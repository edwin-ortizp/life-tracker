import{j as e}from"./ui-vendor-B3RYeZwf.js";import{u as o,C as c,a as x,b as h,B as u,c as j,D as p}from"../assets/index-B0glRh5T.js";import{M as f}from"./MoodChart-Zb1UaeSx.js";import{S as g}from"./skeleton-CQmuRU7x.js";import"./react-vendor-B6CgFIIW.js";import"./firebase-y7-a2-kx.js";import"./utils-vendor-BAnGpuWR.js";import"./chart-vendor-DUiPwoBH.js";const k=({date:r})=>{const{summary:s,loading:d,refetch:m}=o(r),i=t=>{var a;return((a=p[t])==null?void 0:a.name)||t},l=s.mood.details?s.mood.details.map(t=>({label:t.time,value:t.value})):[],n=Object.values(s).some(t=>Object.values(t).some(a=>typeof a=="number"&&a>0));return e.jsxs(c,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between",children:[e.jsx(h,{children:"Resumen Diario"}),e.jsx(u,{size:"sm",variant:"outline",onClick:m,disabled:d,children:"Recalcular"})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Palabras Diario"}),e.jsx("p",{className:"font-bold",children:s.journal.words})]}),"          ",e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Hábitos"}),e.jsxs("p",{className:"font-bold",children:[s.habits.completed,"/",s.habits.total]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(s.habits.completed/s.habits.total*100).toFixed(0),"% completado"]})]}),"          ",e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ánimos"}),e.jsx("p",{className:"font-bold",children:s.mood.count}),s.mood.count>0&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsxs("div",{children:["Promedio: ",s.mood.average,"/10"]}),e.jsxs("div",{children:["Rango: ",s.mood.lowest,"-",s.mood.highest]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Min Ejercicio"}),e.jsx("p",{className:"font-bold",children:s.exercise.minutes})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Hidratación (ml)"}),e.jsx("p",{className:"font-bold",children:s.water.intake}),s.water.drinkDetails&&s.water.drinkDetails.length>0&&e.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:["                ",s.water.drinkDetails.slice(0,2).map(t=>e.jsxs("div",{children:[i(t.type),": ",t.amount,"ml (",t.count,"x)"]},t.type)),s.water.drinkDetails.length>2&&e.jsxs("div",{children:["+",s.water.drinkDetails.length-2," más"]})]})]})]}),e.jsx("div",{className:"h-32",children:d?e.jsx(g,{className:"w-full h-full"}):l.length>0&&e.jsx(f,{data:l,className:"h-full"})}),!d&&s.water.drinkDetails&&s.water.drinkDetails.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium mb-2 text-muted-foreground",children:"Detalle de Bebidas"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:["              ",s.water.drinkDetails.map(t=>e.jsxs("div",{className:"flex justify-between p-2 rounded bg-muted/50",children:[e.jsx("span",{className:"font-medium",children:i(t.type)}),e.jsxs("span",{children:[t.amount,"ml (",t.count,"x)"]})]},t.type))]})]}),!d&&s.habits.incompletedByTimeOfDay&&s.habits.incompletedByTimeOfDay.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium mb-2 text-muted-foreground",children:"Hábitos Pendientes por Momento"}),e.jsx("div",{className:"space-y-3",children:s.habits.incompletedByTimeOfDay.map(t=>e.jsxs("div",{className:"border rounded p-2",children:[e.jsx("h5",{className:"text-xs font-medium mb-1 capitalize text-gray-600",children:t.timeOfDay==="morning"?"Mañana":t.timeOfDay==="afternoon"?"Tarde":t.timeOfDay==="night"?"Noche":"Cualquier momento"}),e.jsx("div",{className:"grid grid-cols-1 gap-1",children:t.habits.map(a=>e.jsxs("div",{className:"flex items-center gap-2 text-xs bg-red-50 p-1 rounded",children:[e.jsx("span",{children:a.icon}),e.jsx("span",{className:"flex-1",children:a.name}),e.jsx("span",{className:"text-gray-500 text-[10px]",children:a.goal})]},a.id))})]},t.timeOfDay))})]}),!d&&!n&&e.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"No hay datos registrados para este día."}),s.mood.details&&s.mood.details.length>0&&e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("h4",{className:"text-sm font-medium mb-2 text-muted-foreground",children:"Estados de Ánimo del Día"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:s.mood.details.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-2 text-xs bg-blue-50 p-2 rounded",children:[e.jsx("span",{className:"text-lg",children:t.emoji}),e.jsx("span",{className:"flex-1",children:t.text}),e.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[t.value,"/10"]}),e.jsx("span",{className:"text-gray-500 text-[10px]",children:t.time})]},a))}),e.jsxs("div",{className:"mt-2 text-xs text-muted-foreground text-center",children:["Promedio del día: ",s.mood.average,"/10"]})]})]})]})};export{k as DailySummary};
