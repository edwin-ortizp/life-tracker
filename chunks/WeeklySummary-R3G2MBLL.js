import{j as a}from"./ui-vendor-B3RYeZwf.js";import{d as c,C as x,a as u,b as h,B as j,c as p}from"../assets/index-B0glRh5T.js";import{S as y}from"./skeleton-CQmuRU7x.js";import{a7 as f,a8 as b,aa as k,ab as C,ac as N,ad as t}from"./chart-vendor-DUiPwoBH.js";import"./react-vendor-B6CgFIIW.js";import"./firebase-y7-a2-kx.js";import"./utils-vendor-BAnGpuWR.js";const A=({startDate:m})=>{const{summary:o,loading:e,refetch:i}=c(m),n=o.daily.map(s=>({date:s.date.slice(5),pomodoros:s.summary.pomodoro.count,tasks:s.summary.tasks.completed,habits:s.summary.habits.completed})),l=o.daily.some(s=>Object.values(s.summary).some(d=>Object.values(d).some(r=>typeof r=="number"&&r>0)));return a.jsxs(x,{children:[a.jsxs(u,{className:"flex flex-row items-center justify-between",children:[a.jsx(h,{children:"Resumen Semanal"}),a.jsx(j,{size:"sm",variant:"outline",onClick:i,disabled:e,children:"Recalcular"})]}),a.jsxs(p,{className:"space-y-4",children:[a.jsx("div",{className:"h-64",children:e?a.jsx(y,{className:"w-full h-full"}):a.jsx(f,{width:"100%",height:"100%",children:a.jsxs(b,{data:n,children:[a.jsx(k,{dataKey:"date"}),a.jsx(C,{}),a.jsx(N,{}),a.jsx(t,{dataKey:"pomodoros",stroke:"#3b82f6",name:"Pomodoros"}),a.jsx(t,{dataKey:"tasks",stroke:"#10b981",name:"Tareas"}),a.jsx(t,{dataKey:"habits",stroke:"#a855f7",name:"HÃ¡bitos"})]})})}),!e&&!l&&a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"No hay datos registrados para esta semana."})]})]})};export{A as WeeklySummary};
