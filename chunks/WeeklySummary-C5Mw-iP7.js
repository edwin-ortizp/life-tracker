import{j as s}from"./ui-vendor-BLQH548t.js";import{d as c,C as x,a as u,b as h,B as j,c as p}from"../assets/index-ClRy_Jsf.js";import{S as y}from"./skeleton-B5XCBriy.js";import{H as f,I as b,M as k,Y as C,N,O as t}from"./chart-vendor-e2IDL9Ed.js";import"./react-vendor-B6CgFIIW.js";import"./firebase-D1-upGu4.js";import"./utils-vendor-BiLoDlzI.js";const O=({startDate:m})=>{const{summary:o,loading:e,refetch:i}=c(m),n=o.daily.map(a=>({date:a.date.slice(5),pomodoros:a.summary.pomodoro.count,tasks:a.summary.tasks.completed,habits:a.summary.habits.completed})),l=o.daily.some(a=>Object.values(a.summary).some(d=>Object.values(d).some(r=>typeof r=="number"&&r>0)));return s.jsxs(x,{children:[s.jsxs(u,{className:"flex flex-row items-center justify-between",children:[s.jsx(h,{children:"Resumen Semanal"}),s.jsx(j,{size:"sm",variant:"outline",onClick:i,disabled:e,children:"Recalcular"})]}),s.jsxs(p,{className:"space-y-4",children:[s.jsx("div",{className:"h-64",children:e?s.jsx(y,{className:"w-full h-full"}):s.jsx(f,{width:"100%",height:"100%",children:s.jsxs(b,{data:n,children:[s.jsx(k,{dataKey:"date"}),s.jsx(C,{}),s.jsx(N,{}),s.jsx(t,{dataKey:"pomodoros",stroke:"#3b82f6",name:"Pomodoros"}),s.jsx(t,{dataKey:"tasks",stroke:"#10b981",name:"Tareas"}),s.jsx(t,{dataKey:"habits",stroke:"#a855f7",name:"HÃ¡bitos"})]})})}),!e&&!l&&s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"No hay datos registrados para esta semana."})]})]})};export{O as WeeklySummary};
