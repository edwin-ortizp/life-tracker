import{j as e}from"./ui-vendor-DGxrBG5B.js";import{D as X,a as Z,b as k,c as ee,d as re,f as oe}from"./dialog-D_bWg3ym.js";import{B as E,u as de,d as b}from"../assets/index-DHFvqX11.js";import{e as ue,g as me,r as pe,B as S,C as $,a as xe,b as K,f as he,h as fe,i as ge,j as ye,k as O}from"./TaskAiReprioritize-fXbQ2_Be.js";import{P as je}from"./progress-Bq-V2CIq.js";import{b as te,d as ve,g as De,f as Ne,h as Te}from"./dates-LQzD1DbF.js";import{r as we,j as Q}from"./utils-vendor-zid8MmOQ.js";import{r as j}from"./react-vendor-B6CgFIIW.js";import{I as q}from"./input-DS5ck5rx.js";import{T as se}from"./textarea-DHVXqkMl.js";import{a7 as Ce,a8 as Re,a9 as be,aa as Se,H as ae}from"./chart-vendor-DS0HZnUf.js";import{S as M,a as B,b as L,c as F,d as w}from"./select-B0o55zn9.js";import{C as P}from"./checkbox-3OsVp0Wi.js";import{q as Ee,w as ze,l as U,h as Ie,k as I,T as G,t as W,e as A,u as H,n as Oe}from"./firebase-B1tATv4n.js";const Ae=s=>{const m={do:{label:"HACER",color:"bg-red-500",text:"Urgente e importante",urgent:!0,important:!0},decide:{label:"DECIDIR",color:"bg-yellow-500",text:"Importante pero no urgente",urgent:!1,important:!0},delegate:{label:"DELEGAR",color:"bg-blue-500",text:"Urgente pero no importante",urgent:!0,important:!1},delete:{label:"ELIMINAR",color:"bg-gray-500",text:"Ni urgente ni importante",urgent:!1,important:!1},none:{label:"",color:"",text:"",urgent:!1,important:!1}};return m[s]||m.none},er=({task:s,isOpen:m,onClose:n,onEdit:r,onToggle:u})=>{if(!s)return null;const g=ue[s.category],t=Ae(s.priority),l=s.isRecurrent&&s.recurrence?te(s.dueDate||new Date,s.recurrence.pattern,s.recurrence.customDays):"",x=s.dueDate&&we(Q(s.dueDate),Q(new Date)),{total:h,checked:f}=me(s.description||""),v=h>0,y=v?s.progress??f/h*100:0,C=pe(s.description||"");return e.jsx(X,{open:m,onOpenChange:R=>{R||n()},children:e.jsxs(Z,{className:"max-w-[90vw] w-[90vw] max-h-[90vh] overflow-y-auto sm:max-w-[90vw] sm:w-[90vw] lg:max-w-[85vw] lg:w-[85vw]",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-12",children:[e.jsx("div",{className:"md:col-span-8 space-y-4",children:e.jsxs(k,{className:"text-left",children:[e.jsx(ee,{children:s.title}),s.description&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:C}}),v&&e.jsxs("div",{className:"mt-1 space-y-0.5",children:[e.jsx(je,{value:y}),e.jsxs("p",{className:"text-xs text-right text-muted-foreground",children:[f," de ",h]})]})]})]})}),"          ",e.jsxs("div",{className:"md:col-span-4 space-y-4 text-sm",children:[s.dueDate&&e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Fecha límite:"}),e.jsxs(S,{variant:x?"destructive":"secondary",className:"text-xs font-normal px-2 py-0.5",children:[ve(s.dueDate),x?" (vencida)":""]})]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Categoría:"}),e.jsx("span",{className:`${g.bg} ${g.text} px-2 py-0.5 rounded-md text-xs flex items-center`,children:$[s.category]})]}),t.label&&e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Prioridad:"}),e.jsx(S,{className:`text-xs text-white ${t.color}`,children:t.label}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",t.text,")"]})]}),s.size&&e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Tamaño:"}),e.jsx(S,{variant:"outline",className:"text-xs",children:s.size})]}),"            ",s.priority&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Urgente:"}),e.jsx(S,{variant:t.urgent?"default":"secondary",className:"text-xs",children:t.urgent?"Sí":"No"})]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Importante:"}),e.jsx(S,{variant:t.important?"default":"secondary",className:"text-xs",children:t.important?"Sí":"No"})]})]}),s.isPrivate&&e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Privada:"}),e.jsx(S,{variant:"outline",className:"text-xs",children:"🔒 Sí"})]}),s.isRecurrent&&s.recurrence&&e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Recurrencia:"}),e.jsx(S,{variant:"outline",className:"text-xs font-normal px-2 py-0.5 text-accent-foreground border-accent",children:l})]})]})]}),e.jsxs(re,{className:"mt-6",children:[e.jsx(E,{variant:"outline",onClick:n,children:"Cerrar"}),u&&e.jsx(E,{variant:"secondary",onClick:()=>u(s.id,!s.completed),children:s.completed?"Marcar incompleta":"Completar"}),e.jsx(E,{onClick:()=>r(s),children:"Editar"})]})]})})},Pe=({value:s,onChange:m,multiline:n})=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Ce,{className:"w-4 h-4"}),"Título"]}),n?e.jsx(se,{value:s,onChange:r=>m(r.target.value),placeholder:"Una tarea por línea",className:"min-h-[120px]"}):e.jsx(q,{value:s,onChange:r=>m(r.target.value),placeholder:"Título de la tarea..."})]}),qe=({value:s,onChange:m})=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Re,{className:"w-4 h-4"}),"Descripción de la tarea"]}),e.jsx(se,{value:s,onChange:n=>m(n.target.value),placeholder:"Agrega más detalles sobre la tarea...",className:"min-h-[250px] resize-y"})]}),V=({value:s,onChange:m,showClearButton:n=!1,label:r="Fecha límite"})=>{const u=t=>De(t),g=t=>{const[l,x,h]=t.split("-").map(Number),f=new Date;return f.setFullYear(l,x-1,h),f.setHours(12,0,0,0),f};return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(be,{className:"w-4 h-4"}),r]}),n&&s&&e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>m(void 0),children:"Quitar fecha"})]}),e.jsx(q,{type:"date",value:s?u(s):"",onChange:t=>{if(!t.target.value){m(void 0);return}const l=g(t.target.value);m(l)}})]})},Me=({value:s,onChange:m})=>{const n=Object.values(xe);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Se,{className:"w-4 h-4"}),"Categoría"]}),e.jsxs(M,{value:s,onValueChange:r=>m(r),children:[e.jsx(B,{children:e.jsx(L,{placeholder:"Selecciona una categoría",children:$[s]})}),e.jsx(F,{children:n.map(r=>e.jsx(w,{value:r,children:$[r]},r))})]})]})},Be=({value:s,onChange:m})=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4"}),"Tiempo estimado (min)"]}),e.jsx(q,{type:"number",min:"0",placeholder:"Ej. 30",value:s??"",onChange:n=>{const r=n.target.value;m(r===""?void 0:Number(r))}})]}),Y="none",Le=({value:s,onChange:m})=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4"}),"Momento del día"]}),e.jsxs(M,{value:s||Y,onValueChange:n=>m(n===Y?void 0:n),children:[e.jsx(B,{children:e.jsx(L,{placeholder:"Sin asignar",children:s?K[s]:"Sin asignar"})}),e.jsxs(F,{children:[Object.values(he).map(n=>e.jsx(w,{value:n,children:K[n]},n)),e.jsx(w,{value:Y,children:"Sin asignar"})]})]})]}),ie=({initialDate:s,initialConfig:m}={})=>{const[n,r]=j.useState(s||new Date),[u,g]=j.useState(m),t=(h,f)=>f?Te(h,f.pattern,f.customDays):h;return{date:n,setDate:r,config:u,setConfig:g,calculateNextDate:t,getRecurrenceText:(h,f)=>f?te(h,f.pattern,f.customDays):"",updateRecurrenceConfig:(h,f)=>{const v={pattern:h,frequency:1,...h==="custom"&&{customDays:f||1}};g(v),r(t(new Date,v))},formatDateForInput:Ne}},Fe=({isRecurrent:s,onRecurrentChange:m,config:n,onConfigChange:r})=>{const{getRecurrenceText:u}=ie({initialConfig:n}),g=t=>{const l={...n||{},frequency:1,pattern:t,...t==="custom"&&{customDays:(n==null?void 0:n.customDays)||1}};r(l)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{id:"isRecurrent",checked:s,onCheckedChange:t=>{m(t)}}),e.jsx("label",{htmlFor:"isRecurrent",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Tarea recurrente"})]}),s&&n&&e.jsxs("div",{className:"pl-6 space-y-4",children:[e.jsxs(M,{value:n.pattern,onValueChange:t=>g(t),children:[e.jsx(B,{className:"w-full",children:e.jsx(L,{placeholder:"Selecciona frecuencia"})}),e.jsxs(F,{children:[e.jsx(w,{value:"daily",children:"Diariamente"}),e.jsx(w,{value:"weekly",children:"Semanalmente"}),e.jsx(w,{value:"monthly",children:"Mensualmente"}),e.jsx(w,{value:"custom",children:"Personalizado"})]})]}),n.pattern==="custom"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{type:"number",min:"1",value:n.customDays,onChange:t=>{const l=parseInt(t.target.value);l>0&&r({...n,customDays:l})},className:"w-24"}),e.jsx("span",{className:"text-sm text-gray-500",children:"días"})]}),n&&e.jsx("div",{className:"text-sm text-blue-600",children:u(new Date,n)})]})]})},rr=({isOpen:s,onClose:m,onConfirm:n,task:r,mode:u})=>{const{calculateNextDate:g}=ie({initialConfig:r.recurrence,initialDate:r.dueDate}),[t,l]=j.useState(()=>u==="create"?{title:"",description:"",category:"personal",isRecurrent:!1,isPrivate:r.isPrivate||!1,priority:"delete",size:"pequeña",estimatedTime:void 0,timeOfDay:void 0}:{title:r.title||"",description:r.description||"",dueDate:u==="complete"?g(new Date,r.recurrence):r.dueDate||void 0,isRecurrent:r.isRecurrent??!1,isPrivate:r.isPrivate??!1,category:r.category||"personal",recurrence:r.recurrence,priority:r.priority||"delete",size:r.size||"pequeña",estimatedTime:r.estimatedTime,timeOfDay:r.timeOfDay}),[x,h]=j.useState(()=>r.priority==="do"||r.priority==="delegate"),[f,v]=j.useState(()=>r.priority==="do"||r.priority==="decide"),[y,C]=j.useState(r.size||"pequeña");j.useEffect(()=>{s&&(u==="create"?(l({title:"",description:"",category:"personal",isRecurrent:!1,isPrivate:r.isPrivate||!1,priority:"delete",size:"pequeña",estimatedTime:void 0,timeOfDay:void 0}),h(!1),v(!1),C("pequeña")):(l({title:r.title||"",description:r.description||"",dueDate:u==="complete"?g(new Date,r.recurrence):r.dueDate||void 0,isRecurrent:r.isRecurrent||!1,isPrivate:r.isPrivate||!1,category:r.category||"personal",recurrence:r.recurrence,priority:r.priority||"delete",size:r.size||"pequeña",estimatedTime:r.estimatedTime,timeOfDay:r.timeOfDay}),h(r.priority==="do"||r.priority==="delegate"),v(r.priority==="do"||r.priority==="decide"),C(r.size||"pequeña")))},[r,u,s]);const R=()=>{if(!t.title.trim())return;const c=x&&f?"do":f?"decide":x?"delegate":"delete";u==="create"?(t.title.split(`
`).map(z=>z.trim()).filter(Boolean).forEach(z=>{n({...t,title:z,priority:c,size:y})}),m()):n({...t,priority:c,size:y})},_=()=>{switch(u){case"create":return"Nueva Tarea";case"edit":return"Editar Tarea";case"complete":return"Completar Tarea";default:return""}};return e.jsx(X,{open:s,onOpenChange:m,children:e.jsxs(Z,{className:"max-w-[95vw] w-[95vw] max-h-[90vh] h-[80vh] overflow-y-auto sm:max-w-[90vw] sm:w-[90vw] lg:max-w-[85vw] lg:w-[85vw]",children:[e.jsxs(k,{children:[e.jsx(ee,{children:_()}),u==="complete"&&e.jsx(oe,{children:r.title})]}),e.jsxs("div",{className:"grid gap-6 py-4 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[u!=="complete"&&e.jsx(Pe,{multiline:u==="create",value:t.title,onChange:c=>l({...t,title:c})}),e.jsx(qe,{value:t.description||"",onChange:c=>l({...t,description:c})}),u==="edit"&&e.jsxs(e.Fragment,{children:[e.jsx(fe,{title:t.title,description:t.description||"",onInsert:c=>l({...t,description:(t.description?t.description+`
`:"")+c})}),e.jsx(ge,{title:t.title,description:t.description||"",onInsert:c=>l({...t,description:(t.description?t.description+`
`:"")+c})}),e.jsx(ye,{title:t.title,description:t.description||"",onInsert:c=>l({...t,description:(t.description?t.description+`
`:"")+c})})]})]}),e.jsxs("div",{className:"space-y-6",children:[u!=="complete"&&e.jsx(Me,{value:t.category,onChange:c=>l({...t,category:c})}),u==="edit"?e.jsx(V,{value:t.dueDate,onChange:c=>l({...t,dueDate:c}),showClearButton:!0}):u==="create"?e.jsx(V,{value:t.dueDate,onChange:c=>l({...t,dueDate:c}),showClearButton:!0}):r.isRecurrent&&e.jsx(V,{value:t.dueDate,onChange:c=>l({...t,dueDate:c}),label:"Próxima fecha"}),u!=="complete"&&e.jsx(Le,{value:t.timeOfDay,onChange:c=>l({...t,timeOfDay:c})}),u!=="complete"&&e.jsx(Fe,{isRecurrent:t.isRecurrent??!1,onRecurrentChange:c=>l({...t,isRecurrent:c,recurrence:c?{pattern:"daily",frequency:1}:void 0}),config:t.recurrence,onConfigChange:c=>l({...t,recurrence:c})}),u!=="complete"&&e.jsx(Be,{value:t.estimatedTime,onChange:c=>l({...t,estimatedTime:c})}),u!=="complete"&&e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx(P,{checked:x,onCheckedChange:c=>h(!!c)}),"Urgente"]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx(P,{checked:f,onCheckedChange:c=>v(!!c)}),"Importante"]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx(P,{checked:t.isPrivate??!1,onCheckedChange:c=>l({...t,isPrivate:!!c})}),"🔒 Privada (solo en Journal)"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Tamaño"}),e.jsxs(M,{value:y,onValueChange:c=>C(c),children:[e.jsx(B,{className:"h-8 w-28",children:e.jsx(L,{placeholder:"Tamaño"})}),e.jsxs(F,{children:[e.jsx(w,{value:"pequeña",children:"pequeña"}),e.jsx(w,{value:"mediana",children:"mediana"}),e.jsx(w,{value:"grande",children:"grande"})]})]})]})]})]})]}),e.jsxs(re,{children:[e.jsx(E,{variant:"outline",onClick:m,children:"Cancelar"}),e.jsx(E,{onClick:R,disabled:!t.title.trim(),children:u==="complete"?"Completar":u==="create"?"Crear":"Guardar cambios"})]})]})})},tr=()=>{const[s,m]=j.useState([]),[n,r]=j.useState("idle"),[u,g]=j.useState(null),[t,l]=j.useState(!1),[x,h]=j.useState(null),[f,v]=j.useState("create"),{user:y}=de(),C=()=>s.filter(a=>!a.isPrivate),R=j.useCallback(()=>{l(!1),h(null),r("idle"),g(null),v("create")},[]);j.useEffect(()=>{if(!y)return;r("loading");const a=Ee(U(b,"tasks"),ze("userId","==",y.uid)),i=Ie(a,o=>{const D=o.docs.map(p=>{var N,T;const d=p.data();return{id:p.id,title:d.title,description:d.description||"",completed:d.completed,createdAt:d.createdAt,dueDate:(N=d.dueDate)==null?void 0:N.toDate(),isRecurrent:d.isRecurrent||!1,isPrivate:d.isPrivate||!1,category:d.category||"other",priority:d.priority||"delete",size:d.size||"pequeña",estimatedTime:d.estimatedTime,timeOfDay:d.timeOfDay,progress:typeof d.progress=="number"?d.progress:O(d.description||""),recurrence:d.recurrence?{frequency:d.recurrence.frequency,pattern:d.recurrence.pattern,customDays:d.recurrence.customDays,nextDate:(T=d.recurrence.nextDate)==null?void 0:T.toDate()}:void 0}}).filter(p=>!p.completed).sort((p,d)=>{var N,T;return p.dueDate&&d.dueDate?p.dueDate.getTime()-d.dueDate.getTime():p.dueDate?-1:d.dueDate?1:(((N=d.createdAt)==null?void 0:N.seconds)||0)-(((T=p.createdAt)==null?void 0:T.seconds)||0)});m(D),n!=="saving"&&r("idle")},o=>{console.error("Error en snapshot:",o),g(o instanceof Error?o.message:"An unknown error occurred"),r("error")});return()=>i()},[y]);const _=async a=>{var i;if(!(!a.title.trim()||!y)){r("saving"),g(null);try{const o={userId:y.uid,title:a.title.trim(),completed:!1,createdAt:I(),category:a.category||"other",priority:a.priority||"delete",size:a.size||"pequeña",...a.timeOfDay&&{timeOfDay:a.timeOfDay},...a.estimatedTime!==void 0&&{estimatedTime:a.estimatedTime}};o.progress=O(a.description||""),(i=a.description)!=null&&i.trim()&&(o.description=a.description.trim()),a.dueDate&&(o.dueDate=G.fromDate(a.dueDate)),a.isPrivate&&(o.isPrivate=!0),a.isRecurrent&&a.recurrence&&(o.isRecurrent=!0,o.recurrence={frequency:a.recurrence.frequency,pattern:a.recurrence.pattern},a.recurrence.pattern==="custom"&&a.recurrence.customDays&&(o.recurrence.customDays=a.recurrence.customDays)),await W(U(b,"tasks"),o),r("idle")}catch(o){console.error("Error al guardar:",o),g(o instanceof Error?o.message:"Error al guardar"),r("error")}}},c=async(a,i)=>{var o;if(y){r("saving");try{const D=A(b,"tasks",a),p={updatedAt:I()};(o=i.title)!=null&&o.trim()&&(p.title=i.title.trim()),typeof i.description=="string"&&(p.description=i.description.trim()||null),i.dueDate!==void 0&&(p.dueDate=i.dueDate?G.fromDate(i.dueDate):null),i.category&&(p.category=i.category),i.priority&&(p.priority=i.priority),i.size&&(p.size=i.size),i.estimatedTime!==void 0&&(p.estimatedTime=i.estimatedTime),i.timeOfDay&&(p.timeOfDay=i.timeOfDay),i.isPrivate!==void 0&&(p.isPrivate=i.isPrivate),i.isRecurrent!==void 0&&(p.isRecurrent=i.isRecurrent,i.isRecurrent||(p.recurrence=null)),i.recurrence&&(p.recurrence={frequency:i.recurrence.frequency,pattern:i.recurrence.pattern},i.recurrence.pattern==="custom"&&i.recurrence.customDays&&(p.recurrence.customDays=i.recurrence.customDays));const d=s.find(N=>N.id===a);p.progress=O(typeof i.description=="string"?i.description:(d==null?void 0:d.description)||""),await H(D,p),R()}catch(D){console.error("Error al actualizar:",D),g(D instanceof Error?D.message:"Error al actualizar"),r("error")}}},J=async(a,i)=>{if(y){r("saving");try{const o=s.find(D=>D.id===a);if(!o)throw new Error("Tarea no encontrada");if(!o.isRecurrent){const D=A(b,"tasks",a);await H(D,{completed:i,updatedAt:I()}),r("idle");return}h(o),v("complete"),l(!0),r("idle")}catch(o){console.error("Error al actualizar estado:",o),g(o instanceof Error?o.message:"Error al actualizar"),r("error")}}},z=async a=>{if(y){r("saving");try{await Oe(A(b,"tasks",a)),r("idle")}catch(i){console.error("Error al eliminar:",i),g(i instanceof Error?i.message:"Error al eliminar"),r("error")}}},ne=async a=>{var i,o,D,p,d;if(!(!x||!y)){r("saving");try{const N=A(b,"tasks",x.id);await H(N,{completed:!0,updatedAt:I()});const T={userId:y.uid,title:x.title,completed:!1,createdAt:I(),dueDate:a.dueDate?G.fromDate(a.dueDate):null,isRecurrent:!0,category:x.category,priority:x.priority||"delete",size:x.size||"pequeña",...a.timeOfDay&&{timeOfDay:a.timeOfDay},recurrence:{pattern:((i=x.recurrence)==null?void 0:i.pattern)||"daily",frequency:((o=x.recurrence)==null?void 0:o.frequency)||1,...((D=x.recurrence)==null?void 0:D.pattern)==="custom"&&{customDays:x.recurrence.customDays}}};((p=a.description)!=null&&p.trim()||x.description)&&(T.description=((d=a.description)==null?void 0:d.trim())||x.description),T.progress=O(T.description||""),await W(U(b,"tasks"),T),R()}catch(N){console.error("Error al procesar tarea recurrente:",N),g(N instanceof Error?N.message:"Error al actualizar tarea recurrente"),r("error")}}},ce=j.useCallback((a,i)=>{v("create"),h({id:"",title:"",completed:!1,category:"personal",priority:"delete",size:"pequeña",createdAt:{seconds:Date.now()/1e3},...a?{dueDate:a}:{},...i?{isPrivate:!0}:{},timeOfDay:void 0,progress:0}),l(!0)},[]),le=a=>{h(a),v("edit"),l(!0),r("idle")};return{tasks:C(),allTasks:s,status:n,error:u,showRecurrenceModal:t,currentTask:x,modalMode:f,addTask:_,editTask:c,toggleTask:J,deleteTask:z,completeRecurrentTask:ne,setShowRecurrenceModal:R,openEditModal:le,openCreateModal:ce,getPublicTasks:C}};export{rr as R,er as T,tr as u};
