import{j as s}from"./ui-vendor-DsUuK6wp.js";import{d as b,C as a,a as t,b as l,c,P as r}from"../assets/index-CJ7mMk-3.js";import{M as g}from"./MoodChart-DaSBodpX.js";import{aX as v,aV as w,D as f,T as y,aY as C,N as k,a0 as P,a1 as R,a2 as D,_ as M,b as T}from"./chart-vendor-BQ8pJhOS.js";import"./react-vendor-Cob1R1W1.js";import"./firebase-DYY3nxBM.js";import"./utils-vendor-BIvfKBFf.js";const _=({startDate:u})=>{const{summary:e}=b(u),o=e.daily.length||1,i=e.totals.habits.completed/(o*e.totals.habits.total)*100,m=e.totals.water.intake/(2e3*o)*100,d=e.totals.pomodoro.completionRate,x=(i+m+d)/3,p=[{name:"Completadas",value:e.totals.tasks.completed},{name:"Pendientes",value:e.totals.tasks.todayPending+e.totals.tasks.overdue}],h=["#10b981","#f97316"],j=e.daily.map(n=>({label:n.date.slice(5),value:n.summary.mood.average}));return s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-6",children:[s.jsxs(a,{className:"p-2",children:[s.jsxs(t,{className:"flex items-center gap-2 p-2 pb-1",children:[s.jsx("span",{className:"p-1 rounded bg-purple-500 text-white",children:s.jsx(v,{className:"w-4 h-4"})}),s.jsx(l,{className:"text-sm",children:"Score General"})]}),s.jsxs(c,{className:"p-2 space-y-1",children:[s.jsxs("div",{className:"text-xl font-bold text-center",children:[x.toFixed(0),"%"]}),s.jsx(r,{value:x,className:"h-2"})]})]}),s.jsxs(a,{className:"p-2",children:[s.jsxs(t,{className:"flex items-center gap-2 p-2 pb-1",children:[s.jsx("span",{className:"p-1 rounded bg-green-600 text-white",children:s.jsx(w,{className:"w-4 h-4"})}),s.jsx(l,{className:"text-sm",children:"Hábitos"})]}),s.jsxs(c,{className:"p-2 space-y-1",children:[s.jsx("div",{className:"text-xl font-bold text-center",children:e.totals.habits.completed}),s.jsx(r,{value:i,className:"h-2"})]})]}),s.jsxs(a,{className:"p-2",children:[s.jsxs(t,{className:"flex items-center gap-2 p-2 pb-1",children:[s.jsx("span",{className:"p-1 rounded bg-blue-600 text-white",children:s.jsx(f,{className:"w-4 h-4"})}),s.jsx(l,{className:"text-sm",children:"Hidratación"})]}),s.jsxs(c,{className:"p-2 space-y-1",children:[s.jsxs("div",{className:"text-xl font-bold text-center",children:[e.totals.water.intake,"ml"]}),s.jsx(r,{value:Math.min(m,100),className:"h-2"})]})]}),s.jsxs(a,{className:"p-2",children:[s.jsxs(t,{className:"flex items-center gap-2 p-2 pb-1",children:[s.jsx("span",{className:"p-1 rounded bg-red-600 text-white",children:s.jsx(y,{className:"w-4 h-4"})}),s.jsx(l,{className:"text-sm",children:"Pomodoros"})]}),s.jsxs(c,{className:"p-2 space-y-1",children:[s.jsxs("div",{className:"text-xl font-bold text-center",children:[e.totals.pomodoro.workMinutes," / ",e.totals.pomodoro.expectedMinutes," min"]}),s.jsx(r,{value:d,className:"h-2"})]})]}),s.jsxs(a,{className:"p-2",children:[s.jsxs(t,{className:"flex items-center gap-2 p-2 pb-1",children:[s.jsx("span",{className:"p-1 rounded bg-orange-500 text-white",children:s.jsx(C,{className:"w-4 h-4"})}),s.jsx(l,{className:"text-sm",children:"Tareas"})]}),s.jsx(c,{className:"p-2",children:s.jsx("div",{className:"h-20",children:s.jsx(k,{width:"100%",height:"100%",children:s.jsxs(P,{children:[s.jsx(R,{data:p,dataKey:"value",nameKey:"name",innerRadius:20,outerRadius:40,children:p.map((n,N)=>s.jsx(D,{fill:h[N%h.length]},`cell-${N}`))}),s.jsx(M,{})]})})})})]}),j.length>0&&s.jsxs(a,{className:"p-2 col-span-full sm:col-auto",children:[s.jsxs(t,{className:"flex items-center gap-2 p-2 pb-1",children:[s.jsx("span",{className:"p-1 rounded bg-yellow-600 text-white",children:s.jsx(T,{className:"w-4 h-4"})}),s.jsx(l,{className:"text-sm",children:"Ánimo"})]}),s.jsx(c,{className:"p-2",children:s.jsx(g,{data:j})})]})]})};export{_ as WeeklyDashboard};
